<div class="report-page">
    <!-- Header Section -->
    <h2 class="page-title">📊 Report Page</h2>

    <!-- Button Container -->
    <div class="button-container">
        <button class="primary-btn" (click)="loadChatHistory()">💬 Chat History</button>
        <button class="secondary-btn" (click)="generateReport()">📄 Generate Report</button>
    </div>

    <!-- Emotion Analysis Section -->
    <div class="card emotion-card">
        <h3>💖 Emotion Analysis</h3>
        <ngx-gauge 
            [value]="gaugeValue" 
            [min]="0" 
            [max]="100"
            [type]="'semi'"
            [cap]="'round'"
            [thick]="12"
            [label]="gaugeLabel"
            [foregroundColor]="getGaugeColor()"
            [backgroundColor]="'#e0e0e0'"
            [size]="200">
        </ngx-gauge>
    </div>

    <!-- Left-Right Image & Description Section -->
    <div class="content-container">
        <div class="image-card">
            <img [src]="selectedImage.src" [alt]="selectedImage.alt" class="image">
        </div>
        <div class="description-card">
            <h3>{{ selectedImage.title }}</h3>
            <p>{{ selectedImage.description }}</p>
            <p>{{ selectedImage.descriptions }}</p>
        </div>
    </div>

    <!-- Information Cards Section -->
    <div class="grid-container">
        <div class="info-card">
            <h3>Type 1</h3>
            <p>Lessons that focus on developing foundational durable skills: self-awareness, self-appreciation, and self-acceptance – the bedrock for all other skills.</p>
        </div>
        <div class="info-card">
            <h3>Type 2</h3>
            <p>Lessons that shift participants from a "classroom" mindset to a workplace mindset that encourages confidence, critical thinking, and collaboration.</p>
        </div>
        <div class="info-card">
            <h3>Type 3</h3>
            <p>Specific durable skills lessons designed to quickly develop proactive, self-reliant, out-of-the-box thinkers who can contribute effectively.</p>
        </div>
    </div>

    <!-- Display Area -->
    <div class="display-area">
        <div *ngIf="isLoading" class="loading">⏳ Loading...</div>

        <!-- Chat History -->
        <div *ngIf="showChatHistory" class="chat-history card">
            <h3>💬 Chat History</h3>
            <div *ngFor="let message of chatHistory" class="message">
                <strong>{{ message.role }}:</strong> {{ message.content }}
            </div>
        </div>

        <!-- Generated Report -->
        <div *ngIf="showReport" class="report card">
            <h3>📄 Generated Report</h3>
            <div [innerHTML]="reportContent"></div>
        </div>
    </div>
</div>
